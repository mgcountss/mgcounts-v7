<script>
    let id = "<%=id%>";
    let num = parseFloat("<%=num%>")
    function update() {
        fetch('/api<%=path%><%=id%>')
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    if (data.misc && data.misc.length > 0) {
                        if (document.getElementById('name').innerHTML !== data.misc[0].value) {
                            document.getElementById('name').innerHTML = data.misc[0].value;
                        }
                        if (document.getElementById('img').src !== data.misc[1].value) {
                            document.getElementById('img').src = data.misc[1].value;
                        }
                    }
                    if (document.getElementById('count').innerHTML !== data.stats[num].value) {
                        document.getElementById('count').innerHTML = data.stats[num].value;
                    }
                }
            })
    }
    setInterval(update, 2000);
    update();
</script>